---
description: 
globs: 
alwaysApply: false
---
# Reset Plugin 규칙

## 1. 핵심 기능 요구사항

### 1.1 기본 서식 초기화
- 선택된 텍스트의 모든 서식(인라인 및 블록 레벨) 제거
- 인라인 태그 제거 (B, I, U, STRONG, EM, MARK, SMALL, DEL, INS, SUB, SUP, STRIKE, CODE, FONT, A, SPAN)
- 블록 태그 변환 (BLOCKQUOTE, H1-H6, PRE → P)
- 스타일 속성 제거 (text-align, margin, padding, border, background, color, font-family, font-size, font-weight, font-style, text-decoration, display, position)

### 1.2 리스트 처리
- 순서 있는/없는 리스트 항목을 일반 텍스트로 변환
- 체크박스 리스트의 체크 상태 유지 (☑/☐)
- 리스트 항목 간 줄바꿈 유지
- 빈 리스트 자동 제거

### 1.3 선택 영역 관리
- 선택 영역 저장 및 복원
- 더블클릭 선택 정규화
- 커서 위치 유지
- 스크롤 위치 유지

## 2. 에러 처리

### 2.1 에러 코드
- NO_SELECTION: 선택 영역 없음
- NO_TEXT: 선택된 텍스트 없음
- FORMAT: 서식 제거 실패
- BLOCK: 블록 요소 처리 실패
- CURSOR: 커서 위치 설정 실패

### 2.2 에러 처리 규칙
- 모든 에러는 errorHandler를 통해 로깅
- 사용자에게 적절한 피드백 제공
- 에러 발생 시 원래 상태로 복원 시도

## 3. 잠재적 버그 및 주의사항

### 3.1 선택 영역 관련
- 중첩된 선택 영역 처리
- 부분 선택된 리스트 항목 처리
- 빈 선택 영역 처리
- 선택 영역 복원 실패 시 대체 동작

### 3.2 서식 제거 관련
- 중첩된 서식 태그 처리
- 스타일 속성 충돌
- 특수 문자 처리
- 이미지/미디어 요소 처리

### 3.3 성능 관련
- 대용량 텍스트 처리
- 복잡한 DOM 구조 처리
- 메모리 누수 방지

## 4. 확장 고려사항

### 4.1 기능 확장
- 선택적 서식 제거 (부분 초기화)
- 서식 제거 히스토리
- 서식 제거 단축키
- 서식 제거 범위 설정

### 4.2 UI/UX 개선
- 서식 제거 진행 상태 표시
- 서식 제거 미리보기
- 서식 제거 취소 기능
- 서식 제거 단축키 커스터마이징

### 4.3 성능 최적화
- 대용량 텍스트 처리 최적화
- DOM 조작 최소화
- 메모리 사용량 최적화
- 비동기 처리 도입

## 5. 테스트 요구사항

### 5.1 단위 테스트
- 기본 서식 제거 테스트
- 리스트 처리 테스트
- 선택 영역 관리 테스트
- 에러 처리 테스트

### 5.2 통합 테스트
- 다른 플러그인과의 상호작용
- 복잡한 DOM 구조에서의 동작
- 대용량 텍스트 처리
- 에러 복구 테스트

### 5.3 성능 테스트
- 대용량 텍스트 처리 시간
- 메모리 사용량
- DOM 조작 횟수
- 응답 시간

## 6. 문서화 요구사항

### 6.1 코드 문서화
- 함수 설명 및 파라미터
- 에러 코드 및 메시지
- 성능 고려사항
- 확장 포인트

### 6.2 사용자 문서화
- 기능 설명
- 사용 방법
- 제한사항
- 문제 해결 가이드
